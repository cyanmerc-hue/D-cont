<!DOCTYPE html>
<html>
<head>
    <title>{{ t('login_title') }} - D-cont</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#05060A">
    <link rel="stylesheet" href="{{ url_for('static', filename='app.css', v=asset_version) }}">
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json', v=asset_version) }}">
    <link rel="icon" type="image/png" sizes="192x192" href="{{ url_for('static', filename='icons/icon-192.png', v=asset_version) }}">
    <link rel="icon" type="image/png" sizes="512x512" href="{{ url_for('static', filename='icons/icon-512.png', v=asset_version) }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='icons/apple-touch-icon.png', v=asset_version) }}">
</head>
<body class="app-body">
    <div class="topbar">
        <div class="topbarInner">
            <div class="brand">
                <div class="brandWrap">
                    <img src="/static/logo.png" onerror="this.onerror=null;this.src='/static/logo.svg';" alt="D-CONT" />
                </div>
                <span class="brandText">D-CONT</span>
            </div>
            <div class="pill">{{ t('brand_tagline') }}</div>
        </div>
    </div>

    <div class="container" style="max-width: 520px;">
      <div class="card card-lg">
        <h2>{{ t('login_title') }}</h2>

        <div class="notice" style="padding:12px;">
            <strong>{{ t('trust_notice_title') }}</strong> {{ t('trust_notice_line1') }}
            <div class="muted" style="margin-top:6px;">{{ t('trust_notice_line2') }}</div>
        </div>

        {% with messages = get_flashed_messages() %}
          {% if messages %}
                        <ul style="margin-top:12px; color: var(--text);">
            {% for message in messages %}
              <li>{{ message }}</li>
            {% endfor %}
            </ul>
          {% endif %}
        {% endwith %}

        <form method="post" style="margin-top:12px;">
            <input type="hidden" name="login_type" value="customer" />
            <label class="label">{{ t('login_language') }}</label>
            <select name="lang" class="input" style="margin-bottom:10px;" onchange="window.location='{{ url_for('login') }}?lang=' + this.value;">
                <option value="en" {% if current_lang=='en' %}selected{% endif %}>English (EN)</option>
                <option value="hi" {% if current_lang=='hi' %}selected{% endif %}>हिंदी</option>
            </select>

            <label class="label">{{ t('login_identifier_label') }}</label>
            <input type="text" name="username" placeholder="{{ t('login_identifier_ph') }}" required class="input">

            <label class="label">{{ t('login_password_label') }}</label>
            <input type="password" name="password" placeholder="{{ t('login_password_ph') }}" required class="input" style="margin-bottom:18px;">

            <button type="submit" class="btn">{{ t('login_btn') }}</button>
        </form>

        <div class="divider">
            <h3 style="margin:0 0 10px 0; color:#2D9CDB; font-size: 1.05em;">{{ t('login_admin_title') }}</h3>
            <form method="post" style="margin:0;">
                <input type="hidden" name="login_type" value="admin" />
                <label class="label">{{ t('login_admin_user') }}</label>
                <input type="text" name="admin_username" placeholder="{{ t('login_admin_user_ph') }}" class="input">

                <label class="label">{{ t('login_admin_pw') }}</label>
                <input type="password" name="admin_password" placeholder="Enter password" class="input" style="margin-bottom:18px;">

                <button type="submit" class="btn">{{ t('login_admin_btn') }}</button>
            </form>
        </div>

        <div style="margin-top:14px; text-align:center; color:#444;">
            {{ t('login_no_account') }} <a href="/register" style="color:#2D9CDB; text-decoration:none;">{{ t('login_register') }}</a>
        </div>
        <div style="margin-top:10px; text-align:center;">
            <a href="/terms" style="color:#2D9CDB; text-decoration:none;">{{ t('terms') }}</a>
        </div>

        
            </div>
        </div>
</body>
</html>